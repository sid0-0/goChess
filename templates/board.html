{{ define "Board" }}
{{ template "LegalMoves" .}}
<div id="board" class="board" hx-swap-oob="true">
  {{ range .board }} {{ range . }} {{template "Square" dict "data" .}} {{end}}
  {{ end }}
</div>
{{ end }}

{{ define "BoardContainer" }}
<style>
  .board {
    height: 500px;
    aspect-ratio: 1;
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    grid-template-rows: repeat(8, 1fr);
    border: 2px solid black;
    color: red;
  }
</style>
<div id="boardContainer" class="flex items-center justify-center" hx-swap-oob="true">
  {{ if .board }}
  <div hx-ext="ws" ws-connect="/ws/board">
    {{ template "Board" . }}
  </div>
  {{ end }}
</div>
{{ end }}