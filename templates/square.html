{{ define "Square" }}
<div id="{{.data.File}}{{.data.Rank}}"
  class="bg-{{if .data.Color}}yellow-700{{else}}yellow-50{{end}} flex items-center grid-justify-center relative" {{ if
  not .data.Piece }} hx-post="/move/{{.data.File}}{{.data.Rank}}" hx-trigger="click" {{ end }} hx-swap-oob="true">
  {{if .data.Piece}}
  <img class="piece piece_{{.data.Piece.PieceType}}{{.data.Piece.Color}} h-full cursor-grab" hx-include="img"
    onclick="highlightMoves('{{.data.File}}','{{.data.Rank}}')" />
  {{end}} {{if .highlight}}
  <div class="legalMove {{if .data.Piece}} legalMove_attacking {{else}} legalMove_nonAttacking {{end}}"></div>
  {{end}}
</div>

{{end}}